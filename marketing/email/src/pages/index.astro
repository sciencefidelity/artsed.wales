---
import sanityClient from "../lib/sanityClient"
import { newsletterQuery } from "../lib/queries"
import Body from "../components/Body.astro"
import Events from "../components/Events.astro"
import Footer from "../components/Footer.astro"
import Header from "../components/Header.astro"
import Headline from "../components/Headline.astro"
import Preheader from "../components/Preheader.astro"
import "../styles/global.scss"

const response = await sanityClient.fetch(newsletterQuery)
const data = response
const { cy, en } = data
const locale = en
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title set:html={locale.newsletter.title} />
  </head>
  <body>
    <table
      class="container"
      border="0"
      cellpadding="0"
      cellspacing="0"
    >
      <tr>
        <td
          valign="top"
        >
          <Preheader locale={locale} en={en} cy={cy} />
          <Header locale={locale} en={en} cy={cy} />
          <Headline locale={locale} en={en} cy={cy} />
          <Body locale={locale} en={en} cy={cy} />
          <Events locale={locale} en={en} cy={cy} />
          <Footer locale={locale} en={en} cy={cy} />
        </td>
      </tr>
    </table>
  </body>
</html>
