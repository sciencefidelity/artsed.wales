---
import format from "date-fns/format/index.js"
import { urlFor } from "../lib/utils"
const { locale, en, cy } = Astro.props
---

<table class="py-40 bg-white border-2 w-full" border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td>
        {locale.newsletter.events.map(event => (
          <table class="event block text-left" border="0" cellpadding="0" cellspacing="0">
            <tbody>
              <tr>
                <th class="p-20">
                  {event.dateStart && <time datetime={format(new Date(event.dateStart), "yyyy-MM-dd")} style="font-family:'Helvetica Neue',Helvetica,Arial,Verdana,sans-serif !important; margin-top: 10px; margin-bottom: 10px; padding-top: 5px; padding-bottom: 5px; font-size: 14px; font-weight: 300;">
                  {format(new Date(event.dateStart), "eeee, d MMMM yyyy, HH:mm")}
                  </time>}
                  {event.title && <h2 style="font-family:'Helvetica Neue',Helvetica,Arial,Verdana,sans-serif !important; padding-top: 5px; margin: 0px; font-size: 18px; font-weight: 700; line-height: 1.5em ">
                    <a href={`https://artsed.wales/courses/${event.slug}`} style="color: #0060BA; text-decoration: none;" target="_blank" set:html={event.title}></a>
                  </h2>}
                  {event.summary && <p style="font-family:'Helvetica Neue',Helvetica,Arial,Verdana,sans-serif !important; padding-top: 5px; padding-bottom: 5px; margin: 0px; font-size: 16px; font-weight: 200; line-height: 1.5; letter-spacing: 0.025em" set:html={event.summary} />}
                  {event.britelink && <p style="font-family:'Helvetica Neue',Helvetica,Arial,Verdana,sans-serif !important; padding-top: 5px; padding-bottom: 5px; margin: 0px; font-size: 16px; font-weight: 200; line-height: 1.5; letter-spacing: 0.025em">
                    <a href={event.britelink} style="color: #0060BA; font-weight: 400; text-decoration: none;" target="_blank" set:html={locale.labels.register}></a>
                  </p>}
                </th>
              </tr>
            </tbody>
          </table>
        ))}
      </td>
    </tr>
  </tbody>
</table>
